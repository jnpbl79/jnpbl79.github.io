<!DOCTYPE html>
<html>

<head>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
</head>

<body>
  <div>&nbsp;</div>
  <div class="container">
    <div class="log well"></div>
    <div class="bowser well"></div>
  </div>
  <script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
  <script>
    var webrtcsupport = (function() {
      var prefix,
        version;

      if (window.mozRTCPeerConnection || navigator.mozGetUserMedia) {
        prefix = 'moz';
        version = parseInt(navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1], 10);
      } else if (window.webkitRTCPeerConnection || navigator.webkitGetUserMedia) {
        prefix = 'webkit';
        version = navigator.userAgent.match(/Chrom(e|ium)/) && parseInt(navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./)[2], 10);
      }

      var PC = window.RTCPeerConnection || window.mozRTCPeerConnection || window.webkitRTCPeerConnection;
      var IceCandidate = window.mozRTCIceCandidate || window.RTCIceCandidate;
      var SessionDescription = window.mozRTCSessionDescription || window.RTCSessionDescription;
      var MediaStream = window.webkitMediaStream || window.MediaStream;
      var screenSharing = window.location.protocol === 'https:' &&
        ((prefix === 'webkit' && version >= 26) ||
          (prefix === 'moz' && version >= 33))
      var AudioContext = window.AudioContext || window.webkitAudioContext;
      var videoEl = document.createElement('video');
      var supportVp8 = videoEl && videoEl.canPlayType && videoEl.canPlayType('video/webm; codecs="vp8", vorbis') === "probably";
      var getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.msGetUserMedia || navigator.mozGetUserMedia;

      // export support flags and constructors.prototype && PC
      return {
        prefix: prefix,
        browserVersion: version,
        support: !!PC && !!getUserMedia,
        // new support style
        supportRTCPeerConnection: !!PC,
        supportVp8: supportVp8,
        supportGetUserMedia: !!getUserMedia,
        supportDataChannel: !!(PC && PC.prototype && PC.prototype.createDataChannel),
        supportWebAudio: !!(AudioContext && AudioContext.prototype.createMediaStreamSource),
        supportMediaStream: !!(MediaStream && MediaStream.prototype.removeTrack),
        supportScreenSharing: !!screenSharing,
        // constructors
        AudioContext: AudioContext,
        PeerConnection: PC,
        SessionDescription: SessionDescription,
        IceCandidate: IceCandidate,
        MediaStream: MediaStream,
        getUserMedia: getUserMedia
      };
    }());

    $(function() {
      console.log(webrtcsupport);
      
      var dl = document.getElementById('list');
      for (var item in webrtcsupport) {
        var dt = document.createElement('dt');
        var dd = document.createElement('dd');
        dt.innerHTML = item;
        dd.innerHTML = webrtcsupport[item];
        dl.appendChild(dt);
        dl.appendChild(dd);
      }
    });
  </script>
</body>

</html>