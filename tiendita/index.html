<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/daisyui@5" rel="stylesheet" type="text/css" />
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <link href="style.css" rel="stylesheet" type="text/css">
    <title>Articulos en venta</title>
</head>

<body id="app">

    <div class="bg-white">
        <div class="mx-auto max-w-2xl px-4 py-16 sm:px-6 sm:py-24 lg:max-w-7xl lg:px-8">
            <div class="flex flex-wrap justify-between items-center">
                <h2 class="text-4xl font-bold text-gray-800 mb-4">{{title}}</h2>
                <a :href="wa_link" target="_blank">
                    <img src="whatsapp_Inline_Green.png" alt="WhatsApp"
                        class="h-6 mr-2 hover:opacity-75 inline-block" />
                </a>
            </div>

            <div v-for="(item, itemIndex) in items" :class="{ 'opacity-60': item.sold }" :key="itemIndex">
                <h3 class="text-2xl mt-8 mb-5" :class="{ 'line-through text-red-400': item.sold }">
                    {{item.name}}
                    <span class="float-right" :class="{ 'line-through text-red-400': item.sold }">
                        {{formatPrice(item.price)}}
                    </span>
                </h3>
                <p>{{item.description}}</p>
                <div class="flex gap-2 flex-wrap mt-6 gallery justify-center lg:justify-start">
                    <img v-for="(img, imgIndex) in item.images"
                        class="lightbox-trigger border rounded-lg h-32 w-32 aspect-auto object-contain hover:opacity-75"
                        :src="`img/s/${img}`" :alt="img" @click="selectItem(item, imgIndex)" />
                </div>
                <hr class="my-8" />
            </div>
        </div>
    </div>

    <dialog id="myDialog" class="p-5 rounded-lg border m-auto">
        <img v-if="selectedItem" :src="`img/s/${selectedItem?.images[selectedImgIndex]}`" :alt="selectedItem.name"
            @click="nextImage" />
        <div class="flex items-center justify-center gap-4 mt-4">
            <button id="prevImage"
                class="bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded"
                @click="prevImage">&lt;</button>
            <button id="closeDialog"
                class="bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded"
                @click="hideDialog">Cerrar</button>
            <button id="nextImage"
                class="bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded"
                @click="nextImage">&gt;</button>
        </div>
    </dialog>

    <script type="module" src="products.js" async></script>

</body>

</html>